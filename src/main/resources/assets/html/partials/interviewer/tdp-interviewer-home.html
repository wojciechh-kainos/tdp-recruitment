<div class="container">
    <h1 class="interviewer-header" id="interviewer-header" ng-show="!isRecruiter">Your availability</h1>
    <h1 class="interviewer-header" id="interviewer-header-for-recruiter" ng-show="isRecruiter">Availability of {{personName}}</h1>
    <h4 id="description">Click on slots to change availability</h4>

    <hr>
    <div id="date-container">
        <button class="button navigate1 " ng-click="showPreviousWeek()">Previous week</button>
        <span class="navigate1">{{displayedStartDate}} - {{displayedEndDate}}</span>
        <button class="button navigate1 " ng-click="showNextWeek()">Next week</button>
    </div>

    <div class="legend">
        <label><input type="radio" ng-model="currentType" value="{{::AvailabilityEnum.available.id}}"/>
            <span class="{{::AvailabilityEnum.available.className}} legend-block"></span> Available</label>
        <label><input type="radio" ng-model="currentType" value="{{::AvailabilityEnum.unavailable.id}}"/>
            <span class="{{::AvailabilityEnum.unavailable.className}} legend-block"></span> Unavailable</label>
        <label><input type="radio" ng-model="currentType" value="{{::AvailabilityEnum.maybe.id}}"/>
            <span class="{{::AvailabilityEnum.maybe.className}} legend-block"></span> Maybe</label>
    </div>

    <table class="availability-table" ng-mousedown="mousedown = true" ng-mouseup="mousedown = false">
        <thead>
            <tr>
                <th id="hours-th">HOURS</th>
                <th>MONDAY</th>
                <th>TUESDAY</th>
                <th>WEDNESDAY</th>
                <th>THURSDAY</th>
                <th>FRIDAY</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="slotsForDay in slotsForWeek">
                <th class="slot-time">{{slotTimes[$index]}}</th>
                <td ng-repeat="slot in slotsForDay track by $index"
                    ng-class="{'{{::AvailabilityEnum.available.className}}': slot.type === AvailabilityEnum.available.id,
                    '{{::AvailabilityEnum.unavailable.className}}': slot.type === AvailabilityEnum.unavailable.id,
                    '{{::AvailabilityEnum.maybe.className}}': slot.type === AvailabilityEnum.maybe.id}"
                    ng-mousedown="markSlots(slot); changeSlotStatus() "
                    ng-mouseover="mousedown ? markSlots(slot) : ''"
                    >
                </td>
            </tr>
        </tbody>
    </table>
    <hr>
    <div class="row">
        <div class="col-lg-12">
            <div class="row">
                <div class="col-lg-2"></div>
                <div class="col-lg-2">
                    <label>Note for this week:</label>
                </div>
                <div class="col-lg-4">
                    <textarea ng-model="temporaryContent" ng-style="textAreaStyle" ng-disabled="!editNote" rows="3" cols="45" maxlength="500" ng-class="{'disabled-textarea' : !editNote}"></textarea>
                </div>

                <div class="col-lg-1">
                        <button class="button-note" type="button" ng-model="editNote" ng-click="editNoteSwitch()">{{buttonTitle}}</button>
                        <button class="button-note" type="button" ng-click="getNoteFromPreviousWeek()">Get note from previous week</button>
                </div>
            </div>
            <hr>
            <div>
                <button class="btn btn-primary uppercase" id="back-to-interview-btn" type="button" ng-show="isRecruiter" ng-click="goBackToRecruiterView()">back to recruiter view</button>
                <button class="btn btn-primary uppercase" id="discard-btn" type="button" ng-click="discardChanges()">discard changes</button>
                <button class="btn btn-primary uppercase" type="button" ng-click="updateSlots()">submit changes</button>
                <button class="btn btn-primary pull-right" type="button" ng-click="goDetails() ">Personal details</button>
            </div>
            <hr>
        </div>
    </div>
</div>
