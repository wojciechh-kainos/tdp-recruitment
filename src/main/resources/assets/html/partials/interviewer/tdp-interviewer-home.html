<div class="alert alert-success" role="alert" ng-show="showSubmitSuccess">
    <strong>Success!</strong> You successfully submitted availability slots.
</div>
<div class="container">
    <h1>YOUR AVAILABILITY</h1>
    <h3>(click on slots to change availability)</h3>
    <div class="row">
        <button class="btn btn-default navigate pull-left" ng-click="showPreviousWeek()">Previous week</button>

        <h4 class="navigate">{{startDate}} - {{endDate}}</h4>
        <button class="btn btn-default navigate pull-right" ng-click="showNextWeek()">Next week</button>
    </div>

    <div class="legend">
        <label><input type="radio" ng-model="currentType" value="{{::AvailabilityEnum.available.id}}"/>
            <span class="{{::AvailabilityEnum.available.className}} legend-block"></span> Available</label>
        <label><input type="radio" ng-model="currentType" value="{{::AvailabilityEnum.unavailable.id}}"/>
            <span class="{{::AvailabilityEnum.unavailable.className}} legend-block"></span> Unavailable</label>
        <label><input type="radio" ng-model="currentType" value="{{::AvailabilityEnum.maybe.id}}"/>
            <span class="{{::AvailabilityEnum.maybe.className}} legend-block"></span> Maybe</label>
    </div>

    <table class="availability-table" ng-mousedown="mousedown = true" ng-mouseup="mousedown = false">
        <thead>
        <tr>
            <th>HOURS</th>
            <th>MONDAY</th>
            <th>TUESDAY</th>
            <th>WEDNESDAY</th>
            <th>THURSDAY</th>
            <th>FRIDAY</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="slotsForDay in slotsForWeek" >
            <td class="slotTime">{{slotTimes[$index]}}</td>
            <td ng-repeat="slot in slotsForDay track by $index" class="mouse-pointer"
                ng-class="{'{{::AvailabilityEnum.available.className}}': slot.type === AvailabilityEnum.available.id,
                    '{{::AvailabilityEnum.unavailable.className}}': slot.type === AvailabilityEnum.unavailable.id,
                    '{{::AvailabilityEnum.maybe.className}}': slot.type === AvailabilityEnum.maybe.id}"
                ng-mousedown="relativeDayNumber>=0 ? markSlots(slot) : '' "
                ng-mouseover="relativeDayNumber>=0 && mousedown ? markSlots(slot) : '' " >
            </td>
        </tr>
        </tbody>
    </table>
    <div>
        <button class="btn btn-primary" type="button" ng-click="updateSlots()" ng-disabled="relativeDayNumber<0">SUBMIT CHANGES</button>
    </div>
</div>
